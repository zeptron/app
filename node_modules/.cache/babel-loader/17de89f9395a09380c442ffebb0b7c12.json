{"ast":null,"code":"import _objectWithoutProperties from \"/Users/j/a/z/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/j/a/z/app/src/Router.js\";\nimport React from 'react';\nimport { withRouter, Switch, Route, Redirect, BrowserRouter as Router } from 'react-router-dom';\nimport UserContext from './UserContext';\nimport Header from './Header';\nimport Authenticator from './Authenticator';\nimport Home from './Home';\nimport Private from './Private.js';\nimport Profile from './Profile';\n\nclass PrivateRoute extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loaded: false,\n      isAuthenticated: false\n    };\n  }\n\n  componentDidMount() {\n    this.unlisten = this.props.history.listen(() => {\n      this.context.updateCurrentUser();\n    });\n  }\n\n  componentWillUnmount() {\n    this.unlisten();\n  }\n\n  render() {\n    const _this$props = this.props,\n          Component = _this$props.component,\n          rest = _objectWithoutProperties(_this$props, [\"component\"]);\n\n    const isAuthenticated = this.context.user && this.context.user.username ? true : false;\n    const isLoaded = this.context.isLoaded;\n    if (!isLoaded) return null;\n    return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n      render: props => {\n        return isAuthenticated ? /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }\n        })) : /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: \"/auth\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nPrivateRoute.contextType = UserContext;\n\nconst NoMatch = ({\n  location\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }\n}, \"No match for \", /*#__PURE__*/React.createElement(\"code\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 22\n  }\n}, location.pathname)));\n\nPrivateRoute = withRouter(PrivateRoute);\n\nconst Routes = () => /*#__PURE__*/React.createElement(Router, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(Header, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(Switch, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Route, {\n  path: \"/auth\",\n  exact: true,\n  component: Authenticator,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/\",\n  exact: true,\n  component: Home,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(PrivateRoute, {\n  path: \"/private\",\n  exact: true,\n  component: Private,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(PrivateRoute, {\n  path: \"/profile\",\n  component: Profile,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }\n}), /*#__PURE__*/React.createElement(Route, {\n  component: NoMatch,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }\n}))));\n\nexport default Routes;","map":{"version":3,"sources":["/Users/j/a/z/app/src/Router.js"],"names":["React","withRouter","Switch","Route","Redirect","BrowserRouter","Router","UserContext","Header","Authenticator","Home","Private","Profile","PrivateRoute","Component","state","loaded","isAuthenticated","componentDidMount","unlisten","props","history","listen","context","updateCurrentUser","componentWillUnmount","render","component","rest","user","username","isLoaded","pathname","contextType","NoMatch","location","Routes"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  withRouter,\n  Switch,\n  Route,\n  Redirect,\n  BrowserRouter as Router\n} from 'react-router-dom'\nimport UserContext from './UserContext'\nimport Header from './Header'\n\nimport Authenticator from './Authenticator'\nimport Home from './Home'\nimport Private from './Private.js'\nimport Profile from './Profile'\n\nclass PrivateRoute extends React.Component {\n  state = {\n    loaded: false,\n    isAuthenticated: false\n  }\n  static contextType = UserContext\n  componentDidMount() {\n    this.unlisten = this.props.history.listen(() => {\n      this.context.updateCurrentUser()\n    })\n  }\n  componentWillUnmount() {\n    this.unlisten()\n  }\n  render() {\n    const { component: Component, ...rest } = this.props\n    const isAuthenticated = this.context.user && this.context.user.username ? true : false\n    const isLoaded = this.context.isLoaded\n    if (!isLoaded) return null\n\n    return (\n      <Route\n        {...rest}\n        render={props => {\n          return isAuthenticated ? (\n            <Component {...props} />\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/auth\",\n              }}\n            />\n          )\n        }}\n      />\n    )\n  }\n}\n\nconst NoMatch = ({ location }) => (\n  <div>\n    <h3>No match for <code>{location.pathname}</code></h3>\n  </div>\n)\n\nPrivateRoute = withRouter(PrivateRoute)\n\nconst Routes = () => (\n  <Router>\n    <div>\n      <Header />\n      <Switch>\n        <Route path='/auth' exact component={Authenticator} />\n        <Route path='/' exact component={Home} />\n        <PrivateRoute path='/private' exact component={Private} />\n        <PrivateRoute path='/profile'  component={Profile} />\n        <Route component={NoMatch} />\n      </Switch>\n    </div>\n  </Router>\n)\n\nexport default Routes\n"]},"metadata":{},"sourceType":"module"}
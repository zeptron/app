{"ast":null,"code":"var _jsxFileName = \"/Users/j/a/z/app/src/SignIn.js\";\nimport React from 'react';\nimport { css } from 'glamor';\nimport { Auth } from 'aws-amplify';\nimport UserContext from './UserContext';\n\nclass SignIn extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      showConfirmation: false,\n      user: {},\n      authCode: ''\n    };\n\n    this.onChange = (key, value) => {\n      this.props.updateErrorMessage(null);\n      this.setState({\n        [key]: value\n      });\n    };\n\n    this.signIn = () => {\n      const history = this.props.history;\n      const updateCurrentUser = this.context.updateCurrentUser;\n      Auth.signIn(this.state.username, this.state.password).then(user => {\n        if (!user.signInUserSession) {\n          this.setState({\n            user,\n            showConfirmation: true\n          });\n        } else {\n          updateCurrentUser(user);\n          history.push('/profile');\n        }\n      }).catch(err => {\n        console.log('error signing in...: ', err);\n        this.props.updateErrorMessage(err.message);\n      });\n    };\n\n    this.confirmSignIn = () => {\n      const history = this.props.history;\n      Auth.confirmSignIn(this.state.user, this.state.authCode, this.state.user.challengeName).then(user => {\n        history.push('/');\n      }).catch(err => console.log('error confirming signing in...: ', err));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, css(styles.container), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }), !this.state.showConfirmation && /*#__PURE__*/React.createElement(\"div\", Object.assign({}, css(styles.formContainer), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", Object.assign({}, css(styles.signInHeader), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }), \"Sign In\"), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      onChange: evt => this.onChange('username', evt.target.value)\n    }, css(styles.input), {\n      placeholder: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      type: \"password\",\n      onChange: evt => this.onChange('password', evt.target.value)\n    }, css(styles.input), {\n      placeholder: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, css(styles.button), {\n      onClick: this.signIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", Object.assign({}, css(styles.buttonText), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), \"Sign In\"))), this.state.showConfirmation && /*#__PURE__*/React.createElement(\"div\", Object.assign({}, css(styles.formContainer), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      onChange: evt => this.onChange('authCode', evt.target.value)\n    }, css(styles.input), {\n      placeholder: \"Confirmation Code\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, css(styles.button), {\n      onClick: this.confirmSignIn.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", Object.assign({}, css(styles.buttonText), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), \"Confirm Sign In\"))));\n  }\n\n}\n\nSignIn.contextType = UserContext;\nconst styles = {\n  signInHeader: {\n    textAlign: 'left',\n    margin: '0px 0px 20px'\n  },\n  button: {\n    padding: '10px 60px',\n    backgroundColor: '#ffb102',\n    marginTop: 10,\n    marginBottom: 10,\n    cursor: 'pointer',\n    borderRadius: '30px',\n    ':hover': {\n      backgroundColor: '#ffbb22'\n    }\n  },\n  buttonText: {\n    margin: 0,\n    color: 'white'\n  },\n  input: {\n    height: 40,\n    marginBottom: '10px',\n    border: 'none',\n    outline: 'none',\n    borderBottom: '2px solid #ffb102',\n    fontSize: '16px',\n    '::placeholder': {\n      color: 'rgba(0, 0, 0, .3)'\n    }\n  },\n  container: {\n    flex: 1,\n    paddingTop: '15px',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  formContainer: {\n    padding: 20,\n    width: 400,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: \"0px 0px 2px rgba(0, 0, 0, .2)\",\n    borderRadius: 20\n  }\n};\nexport default SignIn;","map":{"version":3,"sources":["/Users/j/a/z/app/src/SignIn.js"],"names":["React","css","Auth","UserContext","SignIn","Component","state","username","password","showConfirmation","user","authCode","onChange","key","value","props","updateErrorMessage","setState","signIn","history","updateCurrentUser","context","then","signInUserSession","push","catch","err","console","log","message","confirmSignIn","challengeName","render","styles","container","formContainer","signInHeader","evt","target","input","button","buttonText","bind","contextType","textAlign","margin","padding","backgroundColor","marginTop","marginBottom","cursor","borderRadius","color","height","border","outline","borderBottom","fontSize","flex","paddingTop","display","flexDirection","alignItems","width","boxShadow"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,MAAN,SAAqBJ,KAAK,CAACK,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCC,KADmC,GAC3B;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,gBAAgB,EAAE,KAHZ;AAINC,MAAAA,IAAI,EAAE,EAJA;AAKNC,MAAAA,QAAQ,EAAE;AALJ,KAD2B;;AAAA,SASnCC,QATmC,GASxB,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACzB,WAAKC,KAAL,CAAWC,kBAAX,CAA8B,IAA9B;AACA,WAAKC,QAAL,CAAc;AACZ,SAACJ,GAAD,GAAOC;AADK,OAAd;AAGD,KAdkC;;AAAA,SAenCI,MAfmC,GAe1B,MAAM;AAAA,YACLC,OADK,GACO,KAAKJ,KADZ,CACLI,OADK;AAAA,YAELC,iBAFK,GAEiB,KAAKC,OAFtB,CAELD,iBAFK;AAGblB,MAAAA,IAAI,CAACgB,MAAL,CAAY,KAAKZ,KAAL,CAAWC,QAAvB,EAAiC,KAAKD,KAAL,CAAWE,QAA5C,EACGc,IADH,CACQZ,IAAI,IAAI;AACZ,YAAI,CAACA,IAAI,CAACa,iBAAV,EAA6B;AAC3B,eAAKN,QAAL,CAAc;AAAEP,YAAAA,IAAF;AAAQD,YAAAA,gBAAgB,EAAE;AAA1B,WAAd;AACD,SAFD,MAEO;AACLW,UAAAA,iBAAiB,CAACV,IAAD,CAAjB;AACAS,UAAAA,OAAO,CAACK,IAAR,CAAa,UAAb;AACD;AACF,OARH,EASGC,KATH,CASSC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,GAArC;AACA,aAAKX,KAAL,CAAWC,kBAAX,CAA8BU,GAAG,CAACG,OAAlC;AACD,OAZH;AAaD,KA/BkC;;AAAA,SAgCnCC,aAhCmC,GAgCnB,MAAM;AAAA,YACZX,OADY,GACA,KAAKJ,KADL,CACZI,OADY;AAEpBjB,MAAAA,IAAI,CAAC4B,aAAL,CAAmB,KAAKxB,KAAL,CAAWI,IAA9B,EAAoC,KAAKJ,KAAL,CAAWK,QAA/C,EAAyD,KAAKL,KAAL,CAAWI,IAAX,CAAgBqB,aAAzE,EACGT,IADH,CACQZ,IAAI,IAAI;AACZS,QAAAA,OAAO,CAACK,IAAR,CAAa,GAAb;AACD,OAHH,EAIGC,KAJH,CAISC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDF,GAAhD,CAJhB;AAKD,KAvCkC;AAAA;;AAwCnCM,EAAAA,MAAM,GAAG;AACP,wBACE,6CAAS/B,GAAG,CAACgC,MAAM,CAACC,SAAR,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAEI,CAAC,KAAK5B,KAAL,CAAWG,gBAAZ,iBACE,6CAASR,GAAG,CAACgC,MAAM,CAACE,aAAR,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,4CAAQlC,GAAG,CAACgC,MAAM,CAACG,YAAR,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,MAAA,QAAQ,EAAEC,GAAG,IAAI,KAAKzB,QAAL,CAAc,UAAd,EAA0ByB,GAAG,CAACC,MAAJ,CAAWxB,KAArC;AADnB,OAEMb,GAAG,CAACgC,MAAM,CAACM,KAAR,CAFT;AAGE,MAAA,WAAW,EAAC,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFF,eAQE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,QAAQ,EAAEF,GAAG,IAAI,KAAKzB,QAAL,CAAc,UAAd,EAA0ByB,GAAG,CAACC,MAAJ,CAAWxB,KAArC;AAFnB,OAGMb,GAAG,CAACgC,MAAM,CAACM,KAAR,CAHT;AAIE,MAAA,WAAW,EAAC,UAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OARF,eAcE,6CAAStC,GAAG,CAACgC,MAAM,CAACO,MAAR,CAAZ;AAA6B,MAAA,OAAO,EAAE,KAAKtB,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,2CAAOjB,GAAG,CAACgC,MAAM,CAACQ,UAAR,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAdF,CAHN,EAwBI,KAAKnC,KAAL,CAAWG,gBAAX,iBACE,6CAASR,GAAG,CAACgC,MAAM,CAACE,aAAR,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE;AACE,MAAA,QAAQ,EAAEE,GAAG,IAAI,KAAKzB,QAAL,CAAc,UAAd,EAA0ByB,GAAG,CAACC,MAAJ,CAAWxB,KAArC;AADnB,OAEMb,GAAG,CAACgC,MAAM,CAACM,KAAR,CAFT;AAGE,MAAA,WAAW,EAAC,mBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF,eAME,6CAAStC,GAAG,CAACgC,MAAM,CAACO,MAAR,CAAZ;AAA6B,MAAA,OAAO,EAAE,KAAKV,aAAL,CAAmBY,IAAnB,CAAwB,IAAxB,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,2CAAOzC,GAAG,CAACgC,MAAM,CAACQ,UAAR,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CANF,CAzBN,CADF;AAwCD;;AAjFkC;;AAA/BrC,M,CAQGuC,W,GAAcxC,W;AA4EvB,MAAM8B,MAAM,GAAG;AACbG,EAAAA,YAAY,EAAE;AACZQ,IAAAA,SAAS,EAAE,MADC;AAEZC,IAAAA,MAAM,EAAE;AAFI,GADD;AAKbL,EAAAA,MAAM,EAAE;AACNM,IAAAA,OAAO,EAAE,WADH;AAENC,IAAAA,eAAe,EAAE,SAFX;AAGNC,IAAAA,SAAS,EAAE,EAHL;AAINC,IAAAA,YAAY,EAAE,EAJR;AAKNC,IAAAA,MAAM,EAAE,SALF;AAMNC,IAAAA,YAAY,EAAE,MANR;AAON,cAAU;AACRJ,MAAAA,eAAe,EAAE;AADT;AAPJ,GALK;AAgBbN,EAAAA,UAAU,EAAE;AACVI,IAAAA,MAAM,EAAE,CADE;AAEVO,IAAAA,KAAK,EAAE;AAFG,GAhBC;AAoBbb,EAAAA,KAAK,EAAE;AACLc,IAAAA,MAAM,EAAE,EADH;AAELJ,IAAAA,YAAY,EAAE,MAFT;AAGLK,IAAAA,MAAM,EAAE,MAHH;AAILC,IAAAA,OAAO,EAAE,MAJJ;AAKLC,IAAAA,YAAY,EAAE,mBALT;AAMLC,IAAAA,QAAQ,EAAE,MANL;AAOL,qBAAiB;AACfL,MAAAA,KAAK,EAAE;AADQ;AAPZ,GApBM;AA+BblB,EAAAA,SAAS,EAAE;AACTwB,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,UAAU,EAAE,MAFH;AAGTC,IAAAA,OAAO,EAAE,MAHA;AAITC,IAAAA,aAAa,EAAE,QAJN;AAKTC,IAAAA,UAAU,EAAE;AALH,GA/BE;AAsCb3B,EAAAA,aAAa,EAAE;AACbW,IAAAA,OAAO,EAAE,EADI;AAEbiB,IAAAA,KAAK,EAAE,GAFM;AAGbH,IAAAA,OAAO,EAAE,MAHI;AAIbC,IAAAA,aAAa,EAAE,QAJF;AAKbG,IAAAA,SAAS,EAAE,+BALE;AAMbb,IAAAA,YAAY,EAAE;AAND;AAtCF,CAAf;AAgDA,eAAe/C,MAAf","sourcesContent":["import React from 'react'\nimport { css } from 'glamor'\nimport { Auth } from 'aws-amplify'\nimport UserContext from './UserContext'\n\nclass SignIn extends React.Component {\n  state = {\n    username: '',\n    password: '',\n    showConfirmation: false,\n    user: {},\n    authCode: ''\n  }\n  static contextType = UserContext\n  onChange = (key, value) => {\n    this.props.updateErrorMessage(null)\n    this.setState({\n      [key]: value\n    })\n  }\n  signIn = () => {\n    const { history } = this.props\n    const { updateCurrentUser } = this.context\n    Auth.signIn(this.state.username, this.state.password)\n      .then(user => {\n        if (!user.signInUserSession) {\n          this.setState({ user, showConfirmation: true })\n        } else {\n          updateCurrentUser(user)\n          history.push('/profile')\n        }        \n      })\n      .catch(err => {\n        console.log('error signing in...: ', err)\n        this.props.updateErrorMessage(err.message)\n      })\n  }\n  confirmSignIn = () => {\n    const { history } = this.props\n    Auth.confirmSignIn(this.state.user, this.state.authCode, this.state.user.challengeName)\n      .then(user => {\n        history.push('/')\n      })\n      .catch(err => console.log('error confirming signing in...: ', err))\n  }\n  render() {\n    return (\n      <div {...css(styles.container)}>\n        {\n          !this.state.showConfirmation && (\n            <div {...css(styles.formContainer)}>\n              <h2 {...css(styles.signInHeader)}>Sign In</h2>\n              <input\n                onChange={evt => this.onChange('username', evt.target.value)}\n                {...css(styles.input)}\n                placeholder='username'\n                \n              />\n              <input\n                type='password'\n                onChange={evt => this.onChange('password', evt.target.value)}\n                {...css(styles.input)}\n                placeholder='password'\n              />\n              <div {...css(styles.button)} onClick={this.signIn}>\n                <p {...css(styles.buttonText)}>Sign In</p>\n              </div>\n            </div>\n          )\n        }\n        {\n          this.state.showConfirmation && (\n            <div {...css(styles.formContainer)}>\n              <input\n                onChange={evt => this.onChange('authCode', evt.target.value)}\n                {...css(styles.input)}\n                placeholder='Confirmation Code'\n              />\n              <div {...css(styles.button)} onClick={this.confirmSignIn.bind(this)}>\n                <p {...css(styles.buttonText)}>Confirm Sign In</p>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  signInHeader: {\n    textAlign: 'left',\n    margin: '0px 0px 20px'\n  },\n  button: {\n    padding: '10px 60px',\n    backgroundColor: '#ffb102',\n    marginTop: 10,\n    marginBottom: 10,\n    cursor: 'pointer',\n    borderRadius: '30px',\n    ':hover': {\n      backgroundColor: '#ffbb22'\n    }\n  },\n  buttonText: {\n    margin: 0,\n    color: 'white'\n  },\n  input: {\n    height: 40,\n    marginBottom: '10px',\n    border: 'none',\n    outline: 'none',\n    borderBottom: '2px solid #ffb102',\n    fontSize: '16px',\n    '::placeholder': {\n      color: 'rgba(0, 0, 0, .3)'\n    }\n  },\n  container: {\n    flex: 1,\n    paddingTop: '15px',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  formContainer: {\n    padding: 20,\n    width: 400,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: \"0px 0px 2px rgba(0, 0, 0, .2)\",\n    borderRadius: 20\n  }\n}\n\nexport default SignIn\n"]},"metadata":{},"sourceType":"module"}